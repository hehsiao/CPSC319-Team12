!function(t){var e=function(e,n,a){var r,o=this;e=t(e),n="function"==typeof n?n(e.val(),void 0,e,a):n,o.init=function(){a=a||{},o.byPassKeys=[9,16,17,18,36,37,38,39,40,91],o.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}},o.translation=t.extend({},o.translation,a.translation),o=t.extend(!0,{},o,a),e.each(function(){!1!==a.maxlength&&e.attr("maxlength",n.length),e.attr("autocomplete","off"),s.destroyEvents(),s.events(),s.val(s.getMasked())})};var s={getCaret:function(){var t;t=0;var n=e.get(0),a=document.selection,r=n.selectionStart;return a&&!~navigator.appVersion.indexOf("MSIE 10")?(n.focus(),t=a.createRange(),t.moveStart("character",-n.value.length),t=t.text.length):(r||"0"===r)&&(t=r),t},setCaret:function(t){var n;n=e.get(0),n.setSelectionRange?(n.focus(),n.setSelectionRange(t,t)):n.createTextRange&&(n=n.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select())},events:function(){e.on("keydown.mask",function(){r=s.val()}),e.on("keyup.mask",s.behaviour),e.on("paste.mask",function(){setTimeout(function(){e.keydown().keyup()},100)})},destroyEvents:function(){e.off("keydown.mask keyup.mask paste.mask")},val:function(t){var n=e.is("input");return 0<arguments.length?n?e.val(t):e.text(t):n?e.val():e.text()},behaviour:function(e){e=e||window.event;var n=e.keyCode||e.which;if(-1===t.inArray(n,o.byPassKeys)){var a,r=s.getCaret();r<s.val().length&&(a=!0);var i=s.getMasked();return i!==s.val()&&s.val(i),!a||65===n&&e.ctrlKey||s.setCaret(r),s.callbacks(e)}},getMasked:function(t){var e,r,i=[],c=s.val(),l=0,u=n.length,v=0,f=c.length,h=1,g="push",m=-1;for(a.reverse?(g="unshift",h=-1,e=0,l=u-1,v=f-1,r=function(){return l>-1&&v>-1}):(e=u-1,r=function(){return u>l&&f>v});r();){var d=n.charAt(l),k=c.charAt(v),p=o.translation[d];p?(k.match(p.pattern)?(i[g](k),p.recursive&&(-1===m?m=l:l===e&&(l=m-h),e===m&&(l-=h)),l+=h):p.optional&&(l+=h,v-=h),v+=h):(t||i[g](d),k===d&&(v+=h),l+=h)}return t=n.charAt(e),u!==f+1||o.translation[t]||i.push(t),i.join("")},callbacks:function(t){var o=s.val(),i=s.val()!==r;!0===i&&"function"==typeof a.onChange&&a.onChange(o,t,e,a),!0===i&&"function"==typeof a.onKeyPress&&a.onKeyPress(o,t,e,a),"function"==typeof a.onComplete&&o.length===n.length&&a.onComplete(o,t,e,a)}};o.remove=function(){s.destroyEvents(),s.val(o.getCleanVal()).removeAttr("maxlength")},o.getCleanVal=function(){return s.getMasked(!0)},o.init()};t.fn.mask=function(n,a){return this.each(function(){t(this).data("mask",new e(this,n,a))})},t.fn.unmask=function(){return this.each(function(){try{t(this).data("mask").remove()}catch(e){}})},t.fn.cleanVal=function(){return t(this).data("mask").getCleanVal()},t("*[data-mask]").each(function(){var e=t(this),n={};"true"===e.attr("data-mask-reverse")&&(n.reverse=!0),"false"===e.attr("data-mask-maxlength")&&(n.maxlength=!1),e.mask(e.attr("data-mask"),n)})}(window.jQuery||window.Zepto);